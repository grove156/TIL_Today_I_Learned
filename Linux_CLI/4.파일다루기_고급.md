# 4. 파일다루기 고급

## 4.1 more, less
## 파일 내용 표시
```
$ more [옵션] [파일]
$ less [옵션] [파일]

$ more file1.txt
$ less file2.txt
```
**cat/more/less 차이점**
* cat은 해당 파일을 한번에 전부 출력
* more와 less 는 화면 크기만큼 출력후 스페이스바를 누르면 계속 출력
* more는 모두 출력되면 바로 종료/ less는 출력후에도 꺼지지 않음

**옵션**
* more :
  * -s : 연속되는 빈줄은 출력하지 않음

* less :
  * -X : 프로그램 종료후에도 내용을 지우지 않음
  * -xn : 탭을 n개의 스패이스(indent) 로 치환해서 표시 - 기본값 8
  * -S : 긴 주를 자동으로 줄바꿈 하지 않고 한줄로 표시
  * -s : 연속되는 빈줄은 출력하지 않음

---
## 4.2 head
## 파일 앞부분만 출력
```
$ head [옵션] [파일]

$ head -15 file1.txt
```
**옵션**
* -n : n개의 줄까지만 표시

---
## 4.3 tail
## 파일 뒷부분만 출력
```
$ tail [옵션] [파일]

$ tail -f file1.txt
```
**옵션**
* -n : 뒤에서 n개의 줄까지만 출력
* -f : 두에 추가되는 부분이 있으면 계속 출력

---
## 4.3 sort
## 파일 내용 정령해서 출력하기
```
$ sort [옵션] [파일]

$ sort file1.txt 
$ sort -t , file2.txt  //,를 구분자로 정렬해서 출력
$ sort -k 2,4 file3.txt // 2번째 필드와 4번째 필드를 기준으로 정렬해서 출력

```
**옵션**
* -t 구분자 : 필드를 구분하는 문자를 지정해서 정렬
* -k 필드위치1 ,필드위치2... : 필드 위치를 기준으로 정렬
* _b : 줄 시작부분에 있는 공백문자는 무시
* -r : 역순으로 정렬
* -f : 알파벳 대소문자 차이를 무시함

---
## 4.4 unique
## 중복내용 제거해서 출력
```
$ unique [옵션] [파일]

$ unique -u file1.txt
```

**옵션**
* -u : 중복되지 않은 줄만 출력
* -d : 중복된 줄만 출력
* -c : 중복된 줄 수 각 줄 옆에 표시
* -f n : 각 줄 시작위치에서 n개의 필드만큼 건너뛰어서 비교. 공백 문자와 탭문자가 필드 구분 문자
* -s n : 각 줄 시작위치에서 n개의 필드만큼 건너뛰어서 비교
* -w n : 각 줄에서 n개 문자를 비교합니다

---
## 4.5 grep
## 파일 내에서 문자열 검색
```
$ grep [옵션] [문자열 패턴]

$ grep searchString
$ cat file1.txt | grep searchString
```
**정규표현식**
|정규표현식|의미|
|-|-|
|^문자열|물자열로 스트링이 시작함|
|문자열&|문자열로 스트링이 끝남|
|*|와일드 카드(모든것)|
|[문자]|[ ]안에 문자가 하나라도 포함됨|
|[문자-문자]| [ ] 문자 사이에 있는 문자가 하나라도 포함|
|.|임의의 한글자|

**옵션**
* -v : 지정한 문자열 패턴을 포함하는 줄을 제외하고 표시함
* -n : 줄 번호를 함께 표시함
* -l : 지정한 문자열을 포함한 파일명을 표시
* -i : 대소문자 관계없이 검색
* -r : 디랙터리 안에있는 파일들을 재귀적으로 검색
* -s : 에러메세지를 표시하지 않음

---
## 4.6 wc
## 텍스트 파일 길이 조사하기
```
$ wc [옵션] [파일]

$ wc file1.txt
```

**옵션**
* -l : 줄 수를 표시
* -w : 단어 수를 표시
* -c : 문자 수를 표시, 멀티바이트 문자를 포함하면 바이트 수가 됨
* -m : 문자 수를 표시, 멀티바이트 문자가 포함되도 문자 수로 표시

---
## 4.7 diff
## 두 파일 다른점 찾기
```
$ diff [옵션] [파일1] [파일2]
$ diff [옵션] [디렉토리1] [디렉토리2]

$ diff -u file1.txt file2.txt
$ diff dir1 dir2
```

**옵션**
* -i : 대소문자 차이 무시
* -r : 서브 디렉터리 재귀적으로 비교
* -s : 두 파일의 내용이 같은면 같다고 표시
* -b : 줄 끝에 공백문자 차이는 무시
* -w : 공백문자 차이는 무시
* -B : 빈 줄 개수 차이를 무시
* -q : 파일 내용 일치여부만 확인
* -u : 통함 diff 형식으로 출력

---
## 4.8 chown, chgrp
## 파일 소유자, 소유 그룹 변경
```
$ chown [옵션] [사용자명] [파일]
$ chgrp [옵션] [그룹명] [파일]

$ chown username file1 //file1파일을 username 으로 소유자 변경
$ chgrp mygroup file2 //file2파일을 mygroup으로 소유 그룹 변경
```
**옵션**
* -R : 재귀적으로 해당 디랙터리 아래에 있는 파일까지 모두 변경

## 4.9 chmod
## 파일 권한 변경
```
$ chmod [옵션] [설정할 모드] [파일]

$ chmod 700 file1 //file1의 모드를 700으로 변경 (밑에 모드설명 참조)
```
**모드설정**
* 권한
  * r - 읽기
  * w - 쓰기
  * x - 실행


|8진수|rwx|
|-|-|
|0|---|
|1|--x|
|2|-w-|
|3|-wx|
|4|r--|
|5|r-x|
|6|rw-|
|7|rwx|

**옵션**
* -R : 서브디렉터리 이하도 모두 해당 모드로 변경

---
## 4.10 gzip, gunzip, bzip2, bunzip2, xz, unxz
## 파일 압축하고 풀기
```
$ gzip [옵션] [파일] //압축하기
$ gunzip [옵션] [파일] //압축 풀기

$ bzip2 [옵션] [파일] //압축하기
$ bunzip2 [옵션] [파일] //압축 풀기

$ xz [옵션] [파일] //압축하기
$ unxz [옵션] [파일] //압축 풀기
```
**옵선**
* -v : 압축하거나 압출 풀때 상세정보를 표시
* -c : 압축해제할때 표준 출력으로 출력하고, 원본은 그대로 남김

## 4.11 zcat, bzcat, xzcat
## 압축 풀지 않고 내용 읽기
```
$ zcat [파일]
$ zcat [파일]
$ zcat [파일]
```
**옵션없음**

---
## 4.12 tar
## 파일 묶고 풀기
```
$ tar [옵션] [묶음파일명] [파일1] [파일2]...

$ tar file_total.tar file1 file2
```
**옵션**
* -f file : 아카이브 파일 저장
* -x : 지정 파일을 아카이브에서 풀기
* -r : 지정한 파일을 아카이브에 추가
* -t : 지정한 파일을 아카이브 파일에서 찾아서 있으면 해당하는 파일명을 표시
* -v : 명령을 실행할 때 상세한 정보를 표시
* -J : xz형식으로 압축, 압축해제함
* -j : bzip2 형식으로 압축, 압축해제함
* -z : gzip형식으로 압축, 압축해제함

## 4.13 ln 
## 링크 만들기
```
$ ln [옵션] [오리지널 파일 명] [만들 링크 이름]
$ ln -s file1 mylink
```
**옵션**
* -s : 심볼릭 링크 (디폴트는 하드링크)
* -f : 이름이 같은 파일이 있으면 덮어쓰기
* -i : 이름이 같은 파일이 있으먄 덮어쓰기 여부를 확인

---
## 4.14 find
## 파일 찾기
```
$ find [검색을 시작할 디렉터리] [검색조건] [검색후 처리방법]
$ find /home/user1/dir1 -name file1 -print
```

**검색 조건**
* -name filename : 파일명이 filename인 파일을 검색 
* -mtime n : 갱신 시각이 n일 이전인 파일을 검색
* -user username : 소유자가 username인 파일을 검색
* -regex regexp : 경로에 해당 정규표현식의 파일을 모두 검색
* -path ptn : 경로명 전체가 ptn과 일치하는 파일을 검색 

**검색후 처리방법**
* -print : 검색 결과를 프린트
* -print0 : 검색 결과를 null문자로 나눠서 출력
* -ls : 검색 결과로 찾은 파일 정보를 표시
* -exec  command [arg] \; : 찾은 파일을 command로 실행
* -ok command [arg] \; : 찾은 파일을 command로 실행. 한번더 실행할지 물어봄

---
## 4.15 icov
## 파일 문자 코드 변경하기
```
$ icov [옵션] [파일]

$ icov -f EUC-KR -t UTF-8 file1 > file2 // file1의 EUC-KR의 표맷을 UTF-8 포맷으로 변경해서 file2에 저장
```
**옵션**
* -f : 원본 문자 코드를 지정
* -t : 변환 대상의 문자 코드를 지정
* -l : 사용가능한 모든 문자코드를 출력
* -c : 변환 불가능한 문자 제외

##
